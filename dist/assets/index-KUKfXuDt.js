(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const l=document.querySelector(".nav_burgerbutton");l.addEventListener("click",()=>{l.classList.toggle("burger_isActive")});const a=document.querySelector("#modal_button"),i=document.querySelector(".modal_background"),p=document.querySelector(".modal_close");a.addEventListener("click",()=>{i.style.display="flex"});p.addEventListener("click",()=>{i.style.display="none"});i.addEventListener("click",r=>{r.target===i&&(i.style.display="none")});const d=document.querySelector("#modal_form"),u=document.querySelector("#pop-up"),f=/(\w)+(@)+(\w*)+(\.(com|yandex|ru))/gm;async function m(r){return await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",title:"Test",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}d.addEventListener("submit",r=>{r.preventDefault();let n=d.elements;n=Array.from(n);const s=[];n.pop(),n.forEach(o=>{const{name:e,value:t}=o;t==null||t===""?(o.nextElementSibling.style.display="block",o.nextElementSibling.innerHTML="Поле "+e+" не заполнено"):e==="email"&&!f.test(t)?(o.nextElementSibling.style.display="block",o.nextElementSibling.innerHTML="Не корректный "+e):(s.push({name:e,value:t}),o.nextElementSibling.style.display="none")}),s.length===n.length&&m(s).then(o=>(o.ok&&(u.classList.add("pop-up_isActive"),setTimeout(()=>{u.classList.remove("pop-up_isActive")},5e3)),null)).catch(o=>{})});
